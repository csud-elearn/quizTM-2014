

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Présentation de RapydScript &mdash; documentation Développement d&#39;une application web de création de quiz 0.1</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="documentation Développement d&#39;une application web de création de quiz 0.1" href="index.html"/>
        <link rel="next" title="Documentation utilisateur" href="doc-user.html"/>
        <link rel="prev" title="Introduction" href="introduction.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="index.html" class="fa fa-home"> Développement d'une application web de création de quiz</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Présentation de RapydScript</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pourquoi-utiliser-python-plutot-que-javascript">Pourquoi utiliser Python plutôt que Javascript ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#differentes-manieres-d-aborder-le-probleme-coffeescript-brython-et-rapydscript">Différentes manières d&#8217;aborder le problème : CoffeeScript, Brython et RapydScript</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introduction-a-rapydscript">Introduction à RapydScript</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="doc-user.html">Documentation utilisateur</a><ul>
<li class="toctree-l2"><a class="reference internal" href="doc-user.html#professeurs">Professeurs</a></li>
<li class="toctree-l2"><a class="reference internal" href="doc-user.html#etudiants">Étudiants</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="global.html">Fonctionnement général de l&#8217;application</a><ul>
<li class="toctree-l2"><a class="reference internal" href="global.html#url">URL</a></li>
<li class="toctree-l2"><a class="reference internal" href="global.html#organisation-des-fichiers-de-l-application">Organisation des fichiers de l&#8217;application</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="database.html">Modèle relationnel</a><ul>
<li class="toctree-l2"><a class="reference internal" href="database.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="database.html#utilisation-dans-l-application-de-creation-de-quiz">Utilisation dans l&#8217;application de création de quiz</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="source.html">Vues Django</a><ul>
<li class="toctree-l2"><a class="reference internal" href="source.html#concept-de-vue-dans-django">Concept de vue dans Django</a></li>
<li class="toctree-l2"><a class="reference internal" href="source.html#vues-de-l-application">Vues de l&#8217;application</a></li>
<li class="toctree-l2"><a class="reference internal" href="source.html#les-formulaires">Les formulaires</a></li>
<li class="toctree-l2"><a class="reference internal" href="source.html#le-package-utils">Le package <strong>utils</strong></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="front-end.html">Documentation du code côté client</a><ul>
<li class="toctree-l2"><a class="reference internal" href="front-end.html#interpreter-pyj">interpreter.pyj</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="conclusion.html">Conclusion</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Développement d'une application web de création de quiz</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Présentation de RapydScript</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/rapydscript.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="presentation-de-rapydscript">
<h1>Présentation de RapydScript<a class="headerlink" href="#presentation-de-rapydscript" title="Lien permanent vers ce titre">¶</a></h1>
<div class="section" id="pourquoi-utiliser-python-plutot-que-javascript">
<h2>Pourquoi utiliser Python plutôt que Javascript ?<a class="headerlink" href="#pourquoi-utiliser-python-plutot-que-javascript" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les sites web d&#8217;aujourd&#8217;hui utilisent de plus en plus le Javascript afin de rendre la navigation plus confortable pour le visiteur. Les fonctionnalités offertes par ce language permettent de concevoir une grande variété d&#8217;applications utilisables directement dans le navigateur, qui s&#8217;éxécutent côté client et qui sont donc par conséquent très accessibles au grand public. Le Javascript est donc un langage quasiment incontournable pour toute personne qui s&#8217;intéresse au développement web.</p>
<p>Malgré cela, ce langage n&#8217;est pas forcément facile à aborder pour un programmeur habitué à coder en Java, en Python ou dans un autre langage de programmation moderne, car son fonctionnement diffère dans un certain nombre d&#8217;aspects fondamentaux. Par exemple, le Javascript est un langage orienté objet à prototype, c&#8217;est à dire que les objets utilisés en Javascript sont des copies d&#8217;objets prototypes, et non des instances de classes comme en Python et Java. On peut également mentionner d&#8217;autres différences importantes, comme la portée des variables par défaut. Afin de palier aux difficultés que peut rencontrer un développeur qui débute dans ce langage, divers outils sont apparus pour tenter de remplacer Javascript par Python, avec pour objectif de combiner les possibilités offertes par le Javascript avec la simplicité et la clarté de Python. Ce travail a pour but de présenter et expliquer les fonctionnalités de RapydScript <a class="footnote-reference" href="#id7" id="id1">[6]</a>, un outil permettant d&#8217;écrire du code très semblable à du code Python et de générer du Javascript à partir de ce code.</p>
</div>
<div class="section" id="differentes-manieres-d-aborder-le-probleme-coffeescript-brython-et-rapydscript">
<h2>Différentes manières d&#8217;aborder le problème : CoffeeScript, Brython et RapydScript<a class="headerlink" href="#differentes-manieres-d-aborder-le-probleme-coffeescript-brython-et-rapydscript" title="Lien permanent vers ce titre">¶</a></h2>
<p>Un certain nombre d&#8217;outils open-source tentent de faciliter l&#8217;écriture de code Javascript et différentes approches du problème sont possibles. CoffeeScript <a class="footnote-reference" href="#id8" id="id2">[7]</a> est décrit par ses auteurs comme un langage à part entière, avec sa propre syntaxe, qui ressemble parfois à Python mais est surtout inspirée de celle de Ruby, qui peut être compilé en Javascript. CoffeScript permet l&#8217;écriture d&#8217;un code source plus clair et concis, le code généré est exécuté avec les mêmes performances que du code Javascript natif, mais son utilisation nécessite l&#8217;apprentissage d&#8217;un nouveau langage, ce qui peut être un problème pour un débutant.</p>
<p>À l&#8217;opposé, Brython <a class="footnote-reference" href="#id9" id="id3">[8]</a> propose une toute autre approche : le développeur peut écrire du code en Python qui sera exécuté par un interpréteur Python entièrement codé en Javascript intégré dans la page web. C&#8217;est certainement la solution la plus fidèle à Python, puisque la syntaxe de Brython est exactement identique à celle de Python. L&#8217;accès au DOM (Document Object Model) et l&#8217;utilisation d&#8217;Ajax se fait via l&#8217;import de modules externes. Brython est donc idéal pour quelqu&#8217;un qui ne connaît pas Javascript mais possède de bonnes bases en Python. Cependant, comme la traduction en Javascript se fait en direct, l&#8217;impact sur les performances se fait ressentir et peut poser problème pour des scripts complexes. Le script de l&#8217;interpréteur (environ 10&#8216;000 lignes) doit également être inclus dans chaque page HTML qui comporte du code Brython.</p>
<p>RapydScript a l&#8217;avantage de combiner les qualités des deux outils cités plus haut, en permettant d&#8217;écrire du code très similaire à du code Python standard et en le compilant en Javascript. Rapydscript est donc facile à prendre en main pour n&#8217;importe quelle personne sachant coder en Python et ne limite pas la rapidité d&#8217;exécution puisque le code qui sera exécuté est tout simplement du Javascript. Il est aussi possible d&#8217;appeler n&#8217;importe quelle fonction Javascript standard et par extension d&#8217;utiliser n&#8217;importe quelle librairie externe. Ce dernier point n&#8217;est pas négligeable puisque j&#8217;ai opté pour jQuery pour développer mon application de création de quiz en ligne. Le choix de RapydScript pour la réalisation de ce travail est apparu comme évident après avoir considéré les qualités et défauts de ces différents outils. La prise en main ainsi que la compréhension de son fonctionnement a pu se faire aisément, d&#8217;autant plus que l&#8217;absence de documentation ou de tutoriel complet sur cette technologie en français constitue une motivation supplémentaire et donne un aspect inédit à ce travail.</p>
</div>
<div class="section" id="introduction-a-rapydscript">
<h2>Introduction à RapydScript<a class="headerlink" href="#introduction-a-rapydscript" title="Lien permanent vers ce titre">¶</a></h2>
<div class="section" id="installation">
<h3>Installation<a class="headerlink" href="#installation" title="Lien permanent vers ce titre">¶</a></h3>
<p>Il est possible d&#8217;installer RapydScript en récupérant directement la dernière version sur le dépôt Github du projet.
Pour cela, il faut exécuter les commandes suivantes dans la console :</p>
<div class="highlight-bash"><div class="highlight"><pre>git clone git://github.com/atsepkov/RapydScript.git
<span class="nb">cd </span>RapydScript
npm link .
</pre></div>
</div>
<p>RapydScript est désormais installé et peut être utilisé en ligne de commande.</p>
</div>
<div class="section" id="compilation">
<h3>Compilation<a class="headerlink" href="#compilation" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour compiler un fichier <strong>source.pyj</strong> situé dans le répertoire courant, il suffit d&#8217;utiliser la commande suivante dans la console :</p>
<div class="highlight-bash"><div class="highlight"><pre>rapydscript source.pyj -o result.js
</pre></div>
</div>
<p>L&#8217;option <code class="docutils literal"><span class="pre">-o</span></code> indique à Rapydscript le chemin d&#8217;accès du fichier compilé. On peut exécuter la compilation avec d&#8217;autres options, comme l&#8217;option <code class="docutils literal"><span class="pre">-p</span></code>, qui produira du code Javascript indenté avec des retours à la ligne. Le code ainsi obtenu sera beaucoup plus lisible mais aussi plus volumineux.</p>
<p>Une liste plus exhaustive des options de compilation est disponible sur
<a class="reference external" href="http://rapydscript.pyjeon.com/#header-tag-doc3">la documentation officielle de RapydScript</a> <a class="footnote-reference" href="#id7" id="id4">[6]</a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">L&#8217;extension habituellement utilisée pour les fichiers RapydScript est l&#8217;extension
<code class="docutils literal"><span class="pre">.pyj</span></code>. Il est cependant tout à fait possible d&#8217;utiliser l&#8217;extension habituelle des fichiers Python <code class="docutils literal"><span class="pre">.py</span></code> ou toute autre          extension au goût de l&#8217;utilisateur.</p>
</div>
</div>
<div class="section" id="programmer-avec-rapydscript">
<h3>Programmer avec RapydScript<a class="headerlink" href="#programmer-avec-rapydscript" title="Lien permanent vers ce titre">¶</a></h3>
<div class="section" id="notions-de-base">
<h4>Notions de base<a class="headerlink" href="#notions-de-base" title="Lien permanent vers ce titre">¶</a></h4>
<p>Pour un habitué de Python, la prise en main de RapydScript peut se faire très rapidement : il suffit d&#8217;écrire son programme comme si on écrivait un programme Python, même si dans certains cas particuliers il n&#8217;est pas possible de faire exactement la même chose avec RapydScript. Ces cas particuliers seront abordés plus loin.</p>
<p>Pour commencer avec un exemple simple, voici en Python une fonction qui prend deux nombres en argument et retourne le plus grand. La fonction est ensuite appelée. Ce code est parfaitement valide en Python :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">maximum</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">n1</span> <span class="o">&gt;=</span> <span class="n">n2</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n1</span>
    <span class="k">elif</span> <span class="n">n2</span> <span class="o">&gt;</span> <span class="n">n1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">n2</span>

<span class="n">maximum</span><span class="p">(</span><span class="n">n1</span><span class="p">,</span> <span class="n">n2</span><span class="p">)</span> <span class="c">#Appel de la fonction</span>
</pre></div>
</div>
<p>Une fois la compilation effectuée avec RapydScript, on obtient ce résultat :</p>
<div class="highlight-javascript"><div class="highlight"><pre><span class="kd">function</span> <span class="nx">maximum</span><span class="p">(</span><span class="nx">n1</span><span class="p">,</span> <span class="nx">n2</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">n1</span> <span class="o">&gt;=</span> <span class="nx">n2</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">n1</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">n2</span> <span class="o">&gt;</span> <span class="nx">n1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">n2</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="nx">maximum</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">18</span><span class="p">);</span>
</pre></div>
</div>
<p>On peut voir les opérations qu&#8217;a fait RapydScript pour traduire le code source en Javascript : Remplacer le mot clé <code class="docutils literal"><span class="pre">def</span></code> par <code class="docutils literal"><span class="pre">function</span></code>, ajouter les accolades qui englobent la fonction et les structures <code class="docutils literal"><span class="pre">if</span></code>, ajouter des parenthèses autour des conditions et ajouter un <code class="docutils literal"><span class="pre">;</span></code> à la fin de chaque instruction. On remarque aussi que les commentaires ont été supprimés, puisqu&#8217;ils sont seulement utiles dans le code source. Le code ainsi produit peut maintenant être exécuté dans n&#8217;importe quel navigateur.</p>
<p>Cet exemple montre cependant un cas assez peu significatif de la puissance de RapydScript puisque le code Javascript correspondant au code source est quasiment identique. Mais RapydScript permet aussi de compiler du code typique de Python, comme par exemple des boucles <code class="docutils literal"><span class="pre">for</span></code>, qui n&#8217;ont pas d&#8217;équivalent en Javascript.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">names_list</span> <span class="o">=</span> <span class="p">[</span><span class="s">&quot;Paul&quot;</span><span class="p">,</span> <span class="s">&quot;Marie&quot;</span><span class="p">,</span> <span class="s">&quot;Pierre&quot;</span><span class="p">,</span> <span class="s">&quot;Lucie&quot;</span><span class="p">]</span>

<span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names_list</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
<p>RapydScript produit un code équivalent en Javascript qui s&#8217;éxecutera comme en Python. Le code généré est cette fois plus complexe et des connaissances en Javascript sont nécessaires pour le comprendre. Ce type de manipulation sera étudié dans un chapitre ultérieur. On peut par exemple aussi implémenter une fonction avec des arguments qui prennent des valeurs par défaut, ce qui n&#8217;est pas possible en Javascript.</p>
</div>
<div class="section" id="programmation-orientee-objet-poo">
<h4>Programmation orientée objet (POO)<a class="headerlink" href="#programmation-orientee-objet-poo" title="Lien permanent vers ce titre">¶</a></h4>
<p>Ce qui fait de RapydScript un outil si puissant est principalement les possibilités qu&#8217;il offre pour faire de la Programmation orientée objet. En Javascript, la POO est basée sur le prototypage, et il est beaucoup plus complexe de créer ses propres objets, avec de l&#8217;héritage, etc. En Python, cela est beaucoup plus simple, il est donc particulièrement intéressant de pouvoir utiliser la programmation orientée objet Python pour faire de la programmation web front-end.</p>
<p>Encore une fois, il suffit d&#8217;écrire une classe comme on le ferait en Python:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyObject</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>

    <span class="k">def</span> <span class="nf">get_name</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

<span class="nb">object</span> <span class="o">=</span> <span class="n">MyObject</span><span class="p">(</span><span class="s">&quot;Object 1&quot;</span><span class="p">)</span> <span class="c">#Instanciation avec un paramètre</span>
<span class="nb">object</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="c">#Retourne &quot;Objet 1&quot;</span>
</pre></div>
</div>
<p>Il est également possible de faire de l&#8217;héritage :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyObjectPlus</span><span class="p">(</span><span class="n">MyObject</span><span class="p">):</span> <span class="c">#Classe qui hérite de la classe créée précédemment</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">number</span><span class="p">):</span>
        <span class="n">MyObject</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">number</span> <span class="o">=</span> <span class="n">number</span>

    <span class="k">def</span> <span class="nf">get_number</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">number</span>

    <span class="k">def</span> <span class="nf">informations</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">&quot;Nom : &quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s">&quot; /// Nombre : &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">number</span><span class="p">)</span>

<span class="n">objet</span> <span class="o">=</span> <span class="n">MyObjectPlus</span><span class="p">(</span><span class="s">&quot;Objet 2&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>
<span class="n">objet</span><span class="o">.</span><span class="n">get_name</span><span class="p">()</span> <span class="c">#Retourne &quot;Objet 2&quot;</span>
<span class="n">objet</span><span class="o">.</span><span class="n">get_number</span><span class="p">()</span> <span class="c">#Retourne 5</span>
<span class="n">objet</span><span class="o">.</span><span class="n">informations</span><span class="p">()</span> <span class="c">#Retourne &quot;Nom : Objet 2 /// Nombre : 5&quot;</span>
</pre></div>
</div>
<p>Il n&#8217;est par contre pas possible de définir des variables de classes avec RapydScript (si on définit une variable de classe, RapydScript l&#8217;ignore simplement). Cela est dû au fait qu&#8217;en Javascript, un objet n&#8217;est pas une instance d&#8217;une classe comme en Python, mais une copie d&#8217;un objet prototype. En Python, une variable de classe est en fait un attribut de l&#8217;objet <code class="xref rst rst-dir docutils literal"><span class="pre">Class</span></code>. Il n&#8217;y a donc qu&#8217;un seul espace en mémoire pour cette variable. En Javascript, tous les attributs du prototype sont copiés à chaque fois qu&#8217;un objet est créé et il n&#8217;y a aucun équivalent aux variables de classe.</p>
</div>
<div class="section" id="utilisation-de-la-bibliotheque-standard-python">
<h4>Utilisation de la bibliothèque standard Python<a class="headerlink" href="#utilisation-de-la-bibliotheque-standard-python" title="Lien permanent vers ce titre">¶</a></h4>
<p>Avec RapydScript, il est possible d&#8217;utiliser dans le code des fonctions provenant de différentes sources. La première est la bibilothèque standard de Python, c&#8217;est à dire les fonctions natives Python, telles que <code class="docutils literal"><span class="pre">print()</span></code>, <code class="docutils literal"><span class="pre">len()</span></code> ou <code class="docutils literal"><span class="pre">range()</span></code>.</p>
<p>Pour utiliser les fonctions de la bibliothèque standard Python, il faut placer l&#8217;instruction suivante au début du fichier Python :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">stdlib</span>
</pre></div>
</div>
<p>RapydScript définira ainsi ces fonctions dans le fichier généré et leur comportement sera en quelque sorte simulé en Javascript. Ces fonctions peuvent donc être utilisées comme on le ferait en Python, dans le code source.</p>
</div>
<div class="section" id="separer-son-code-en-plusieurs-fichiers">
<h4>Séparer son code en plusieurs fichiers<a class="headerlink" href="#separer-son-code-en-plusieurs-fichiers" title="Lien permanent vers ce titre">¶</a></h4>
<p>Il est déconseillé d&#8217;écrire tout son code dans un seul fichier lorsqu&#8217;on travaille sur un gros projet. Pour séparer son code en plusieurs fichiers, RapydScript prévoit un système d&#8217;imports qui ressemble à celui de Python. Voici comment procéder pour écrire son code dans plusieurs fichiers.</p>
<p>Premièrement, chaque fichier du code source doit utiliser l&#8217;extension <strong>.pyj</strong>, qui est l&#8217;extension des fichiers RapydScript. Ensuite, ces fichiers peuvent être utilisés comme des modules et être importés depuis un autre fichier. Par exemple, si on a placé une partie du code dans un fichier <strong>moduletest.pyj</strong>, on ajoutera l&#8217;instruction suivante en début de fichier :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">moduletest</span>
</pre></div>
</div>
<p>Lors de la compilation, RapydScript va rassembler tous les fichiers du code source dans un même fichier Javascript, ce qui facilite aussi l&#8217;insertion du script dans un fichier HTML. Il est important de noter, cependant, que l&#8217;import d&#8217;un module ne rend pas ses fonctions disponibles dans un espace de noms distinct. Par exemple, pour appeler la fonction <code class="docutils literal"><span class="pre">test()</span></code> du module de l&#8217;exemple précédent, voici comment procéder :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">moduletest</span>

<span class="n">test</span><span class="p">()</span> <span class="c">#Correct</span>
<span class="n">moduletest</span><span class="o">.</span><span class="n">test</span><span class="p">()</span> <span class="c">#Ne fonctionne pas</span>
</pre></div>
</div>
</div>
<div class="section" id="utilisation-de-fonctions-javascript-natives-ou-provenant-de-librairies-externes">
<h4>Utilisation de fonctions Javascript natives ou provenant de librairies externes<a class="headerlink" href="#utilisation-de-fonctions-javascript-natives-ou-provenant-de-librairies-externes" title="Lien permanent vers ce titre">¶</a></h4>
<p>Il est également possible d&#8217;utiliser des fonctions Javascript natives, par exemple :</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c">#Ces deux expressions sont équivalentes :</span>
<span class="n">console</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="s">&quot;Bonjour&quot;</span><span class="p">)</span> <span class="c">#Fonction Javascript</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Bonjour&quot;</span><span class="p">)</span> <span class="c">#Fonction Python</span>
</pre></div>
</div>
<p>L&#8217;exemple parle de lui-même et ne nécessite pas d&#8217;explication supplémentaire. Il peut parfois être pratique d&#8217;utiliser des fonctions qui n&#8217;ont pas d&#8217;équivalent en Python.</p>
<p>Mais une autre grande force de RapydScript est la possibilité d&#8217;utiliser des librairies Javascript externes, telles que jQuery <a class="footnote-reference" href="#id10" id="id5">[9]</a> ou AngularJS <a class="footnote-reference" href="#id11" id="id6">[10]</a>. Pour cela, rien de plus simple, il suffit d&#8217;insérer le script de la librairie que l&#8217;on veut utiliser dans le code HTML, comme ceci :</p>
<div class="highlight-html"><div class="highlight"><pre><span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;jquery.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span><span class="c">&lt;!-- jQuery --&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;myscript.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span><span class="c">&lt;!-- Script créé avec RapydScript --&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;mydiv&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre></div>
</div>
<p>On peut maintenant utiliser les fonctions jQuery dans notre code. Cette fonction sélectionne le <code class="docutils literal"><span class="pre">&lt;div&gt;</span></code> et y insère du texte :</p>
<div class="highlight-python"><div class="highlight"><pre>def add_text(text):
    $(&quot;#mydiv&quot;).text(text)

add_text(&quot;Hello World&quot;)
</pre></div>
</div>
<p>On peut procéder de la même manière pour n&#8217;importe quelle autre librairie Javascript externe.</p>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label">[6]</td><td><em>(<a class="fn-backref" href="#id1">1</a>, <a class="fn-backref" href="#id4">2</a>)</em> <a class="reference external" href="http://rapydscript.pyjeon.com">http://rapydscript.pyjeon.com</a>. Consulté le 20 mars 2015.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[7]</a></td><td><a class="reference external" href="http://coffeescript.org">http://coffeescript.org</a>. Consulté le 29 mars 2015.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id9" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[8]</a></td><td><a class="reference external" href="http://www.brython.info/">http://www.brython.info/</a>. Consulté le 29 mars 2015.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[9]</a></td><td><a class="reference external" href="https://jquery.com/">https://jquery.com/</a>. Consulté le 29 mars 2015.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id6">[10]</a></td><td><a class="reference external" href="https://angularjs.org/">https://angularjs.org/</a>. Consulté le 29 mars 2015.</td></tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="doc-user.html" class="btn btn-neutral float-right" title="Documentation utilisateur">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="introduction.html" class="btn btn-neutral" title="Introduction"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2014, Benoît Léo Maillard.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>